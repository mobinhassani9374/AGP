@using AGP.Domain.ViewModel.AccountGame
@using AGP.Domain.Entities
@using AGP.Mvc.Helper
@using AGP.Mvc.Remark
@model AccountGameViewModel
@{
    ViewData["Title"] = "بررسی و خرید اکانت بازی";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="col-md-6 col-sm-6 col-xs-12 pull-left">
    <div class="box form-matrial padding-20">
        <div class="scroll">
            <div class="product__img" style="background-image:url(/Attachment/@Model.ImageName);padding-top:50%;"></div>
            <div class="row margin-top-20">
                <div class="col-xs-3">
                    <div class="product__img" style="background-image:url(/Attachment/@Model.ImageName);"></div>
                </div>
                <div class="col-xs-3">
                    <div class="product__img" style="background-image:url(/Attachment/@Model.ImageName);"></div>
                </div>
                <div class="col-xs-3">
                    <div class="product__img" style="background-image:url(/Attachment/@Model.ImageName);"></div>
                </div>
                <div class="col-xs-3">
                    <div class="product__img" style="background-image:url(/Attachment/@Model.ImageName);"></div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="col-md-6 col-sm-6 col-sx-12">
    <div class="box form-material padding-20">
        <div class="scroll">
            <div class="title">جزئیات اکانت</div>

            <div class="color-theme margin-top-10 weight-600 size-18  margin-bottom-15">
                @Model.GameDisplayName
            </div>
            <div>
                <p>قیمت محصول : @Model.Price.ToString("#,##")</p>
            </div>
            <div>
                <p>سطح : @Model.Level</p>
            </div>

            <p>@Model.Description</p>

            @if (Model.IsDone)
            {
                <p>اکانت خریداری شده است</p>
                <p><a asp-action="Profile" asp-controller="User" asp-route-id="@Model.UserBuyerId"></a></p>
                <p>نام خریدار : @RemarkUserId.Build(Model.UserBuyerId)</p>
            }
            @if (!Model.IsActive)
            {
                <p style="color:red;">این اکانت بازی فعال نیست</p>

            }

                <p>
                    @if (ButtonAndLink.EnableBuyFinal(Model.State, Model.BuyState, Model.IsActive))
                    {
                        @if (User.Identity.IsAuthenticated)
                        {
                            <div class="text-center clearfix">
                                <button class="product__btn btn" onclick="window.location='/Cart/Index/@(Model.Id)'"><span class="fa fa-shopping-cart"></span> نهایی کردن خرید </button>
                            </div>

                        }
                        else
                        {
                            <div class="text-left clearfix">
                                <button class="btn btn-primary" onclick="window.location='/CkeckOut/Index/@(Model.Id)'"><span class="fa fa-shopping-cart"></span> نهایی کردن خرید </button>
                            </div>

                        }

                    }
                    else
                    {
                        <div class="text-left clearfix">
                            <button disabled class="btn btn-primary"><span class="fa fa-shopping-cart"></span> نهایی کردن خرید </button>
                        </div>
                    }
                </p>
        </div>
    </div>
</div>


